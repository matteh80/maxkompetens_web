$menu-color: $brand-primary;
$hover-menu-color: #ededed;

.overlay {
  background-color: rgba(0,0,0,0.7);
  position: absolute;
  z-index: 997;
  left: 0;
  top:0;
  width: 100%;
  height:100%;
  //transition: opacity 250ms;
  display: none;

  &.visible {
    opacity: 1;
  }
}
.banner {
  background: white;
  position: fixed;
  width: 100%;
  z-index: 3;
  transition: background 300ms;
  perspective: 1800px;

  &.scrolled {
    background: white;
  }

  .brand {
    height:70px;
    position: absolute;
    padding:10px;

    .logo {
      max-height: 100%;
    }
  }

  .nav-primary {
    width:100%;

    #menu-container {

      #main-menu {
        font-weight: 100;
        float: right;

        .menu-item {
          display: inline-block;
          //position: relative;
          margin-right: 24px;
          transition: background 300ms;


          &:hover {
            //box-shadow: inset 0 -3px 0 $hover-menu-color;
            background: $hover-menu-color;
          }

          &.current-menu-item {
            box-shadow: inset 0 -5px 0 $menu-color;
          }

          &.menu-item-has-children {

            span {

              &:after {
                content: "\f107";
                font-family: FontAwesome;
                margin-left: 5px;
              }
            }

            &:hover {
              .sub-menu-wrap {
                opacity: 1;
                visibility: visible;
                //height:70px;
                transform: rotateX(0deg);
                background: $hover-menu-color;
              }
            }
          }

          a, span {
            display: block;
            line-height: 70px;
            padding:0 10px;
            color: #000;
            text-transform: uppercase;

            &:hover {
              text-decoration: none;
            }
          }

          .sub-menu-wrap {
            background: darken($hover-menu-color,25%);
            width: 100%;
            padding: 0 !important;
            clear: both;
            display: block;
            visibility: hidden;
            position: absolute;
            left: 0;
            z-index: 3;
            transition: all 300ms;
            //height:0;

            overflow: hidden;
            transform: rotateX(-90deg);
            transform-origin: top;
            transform-style: preserve-3d;
          }

          .sub-menu {
            float: right;
          }
        }
      }
    }
  }
}
